{"ast":null,"code":"var _jsxFileName = \"/home/troias/udemy/project-2/01-starting-project/src/components/Meals/MealList/MealsList.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useCallback, useReducer } from \"react\";\nimport Meals from \"../MealItem/Meals\";\nimport { DUMMY_MEALS } from \"../../../dummyMeals\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst intialReducerObj = {\n  meals: {\n    id: \"\",\n    name: \"Sushi\",\n    description: \"Best quality food\",\n    price: 22.99\n  },\n  loading: false,\n  loaded: false,\n  error: false\n};\n\nconst mealsReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOADING\":\n      return { ...state,\n        loading: action.payload\n      };\n\n    case \"SET-MOVIE\":\n      return {\n        meals: {\n          id: action.payload.id,\n          name: action.payload.name,\n          description: action.payload.description,\n          price: action.payload.price\n        }\n      };\n\n    case \"LOADED\":\n      {\n        return { ...state,\n          loaded: true\n        };\n      }\n\n    case \"ERROR\":\n      return { ...state,\n        error: action.payload\n      };\n\n    default:\n      return intialReducerObj;\n  }\n};\n\nconst MealsList = () => {\n  _s();\n\n  const getIntialMeals = useCallback(async () => {\n    try {\n      dispatch({\n        type: \"LOADING\",\n        payload: true\n      });\n      const req = await fetch(\"https://food-app-a635f-default-rtdb.firebaseio.com/meals.json\");\n\n      if (!req.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n\n      const res = await req.json();\n      let loadedMeals = [];\n\n      for (const key in res) {\n        loadedMeals.push({\n          id: key,\n          name: res[key].name,\n          price: res[key].price,\n          description: res[key].description\n        });\n        dispatch({\n          type: \"LOADED\",\n          payload: true\n        });\n        dispatch({\n          type: \"setMovie\",\n          payload: loadedMeals\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: \"ERROR\",\n        payload: error.message\n      });\n    }\n\n    dispatch({\n      type: \"LOADING\",\n      payload: false\n    });\n  }, []);\n  const [state, dispatch] = useReducer(mealsReducer, intialReducerObj);\n  useEffect(() => {\n    const mounted = true;\n    getIntialMeals();\n    return () => {\n      const unMounted = false;\n    };\n  }, [getIntialMeals]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [state.loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }, this), state.error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\" \", state.error, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 23\n    }, this), console.log(state.meals), state.loaded && state.meals.map(meals => {\n      return /*#__PURE__*/_jsxDEV(Meals, {\n        props: meals\n      }, meals.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 18\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MealsList, \"PYYs6p4QFS3S/IEpEdkCm4X4Gx4=\");\n\n_c = MealsList;\nexport default MealsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MealsList\");","map":{"version":3,"sources":["/home/troias/udemy/project-2/01-starting-project/src/components/Meals/MealList/MealsList.js"],"names":["useEffect","useCallback","useReducer","Meals","DUMMY_MEALS","intialReducerObj","meals","id","name","description","price","loading","loaded","error","mealsReducer","state","action","type","payload","MealsList","getIntialMeals","dispatch","req","fetch","ok","Error","res","json","loadedMeals","key","push","message","mounted","unMounted","console","log","map"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,WAApB,EAAiCC,UAAjC,QAAmD,OAAnD;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,SAASC,WAAT,QAA4B,qBAA5B;;AAEA,MAAMC,gBAAgB,GAAG;AACvBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,EAAE,EAAE,EADC;AAELC,IAAAA,IAAI,EAAE,OAFD;AAGLC,IAAAA,WAAW,EAAE,mBAHR;AAILC,IAAAA,KAAK,EAAE;AAJF,GADgB;AAQvBC,EAAAA,OAAO,EAAE,KARc;AASvBC,EAAAA,MAAM,EAAE,KATe;AAUvBC,EAAAA,KAAK,EAAE;AAVgB,CAAzB;;AAaA,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACtC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,SAAL;AACE,aAAO,EACL,GAAGF,KADE;AAELJ,QAAAA,OAAO,EAAEK,MAAM,CAACE;AAFX,OAAP;;AAKF,SAAK,WAAL;AACE,aAAO;AACLZ,QAAAA,KAAK,EAAE;AACLC,UAAAA,EAAE,EAAES,MAAM,CAACE,OAAP,CAAeX,EADd;AAELC,UAAAA,IAAI,EAAEQ,MAAM,CAACE,OAAP,CAAeV,IAFhB;AAGLC,UAAAA,WAAW,EAAEO,MAAM,CAACE,OAAP,CAAeT,WAHvB;AAILC,UAAAA,KAAK,EAAEM,MAAM,CAACE,OAAP,CAAeR;AAJjB;AADF,OAAP;;AASF,SAAK,QAAL;AAAe;AACb,eAAO,EACL,GAAGK,KADE;AAELH,UAAAA,MAAM,EAAE;AAFH,SAAP;AAID;;AACD,SAAK,OAAL;AACE,aAAO,EACL,GAAGG,KADE;AAELF,QAAAA,KAAK,EAAEG,MAAM,CAACE;AAFT,OAAP;;AAKF;AACE,aAAOb,gBAAP;AA9BJ;AAgCD,CAjCD;;AAkCA,MAAMc,SAAS,GAAG,MAAM;AAAA;;AACtB,QAAMC,cAAc,GAAGnB,WAAW,CAAC,YAAY;AAC7C,QAAI;AACFoB,MAAAA,QAAQ,CAAC;AACPJ,QAAAA,IAAI,EAAE,SADC;AAEPC,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAKA,YAAMI,GAAG,GAAG,MAAMC,KAAK,CACrB,+DADqB,CAAvB;;AAIA,UAAI,CAACD,GAAG,CAACE,EAAT,EAAa;AACX,cAAM,IAAIC,KAAJ,CAAU,sBAAV,CAAN;AACD;;AAED,YAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAlB;AAEA,UAAIC,WAAW,GAAG,EAAlB;;AAEA,WAAK,MAAMC,GAAX,IAAkBH,GAAlB,EAAuB;AACrBE,QAAAA,WAAW,CAACE,IAAZ,CAAiB;AACfvB,UAAAA,EAAE,EAAEsB,GADW;AAEfrB,UAAAA,IAAI,EAAEkB,GAAG,CAACG,GAAD,CAAH,CAASrB,IAFA;AAGfE,UAAAA,KAAK,EAAEgB,GAAG,CAACG,GAAD,CAAH,CAASnB,KAHD;AAIfD,UAAAA,WAAW,EAAEiB,GAAG,CAACG,GAAD,CAAH,CAASpB;AAJP,SAAjB;AAOAY,QAAAA,QAAQ,CAAC;AACPJ,UAAAA,IAAI,EAAE,QADC;AAEPC,UAAAA,OAAO,EAAE;AAFF,SAAD,CAAR;AAKAG,QAAAA,QAAQ,CAAC;AACPJ,UAAAA,IAAI,EAAE,UADC;AAEPC,UAAAA,OAAO,EAAEU;AAFF,SAAD,CAAR;AAID;AACF,KApCD,CAoCE,OAAOf,KAAP,EAAc;AACdQ,MAAAA,QAAQ,CAAC;AACPJ,QAAAA,IAAI,EAAE,OADC;AAEPC,QAAAA,OAAO,EAAEL,KAAK,CAACkB;AAFR,OAAD,CAAR;AAID;;AACDV,IAAAA,QAAQ,CAAC;AACPJ,MAAAA,IAAI,EAAE,SADC;AAEPC,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID,GA/CiC,EA+C/B,EA/C+B,CAAlC;AAiDA,QAAM,CAACH,KAAD,EAAQM,QAAR,IAAoBnB,UAAU,CAACY,YAAD,EAAeT,gBAAf,CAApC;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgC,OAAO,GAAG,IAAhB;AACAZ,IAAAA,cAAc;AACd,WAAO,MAAM;AACX,YAAOa,SAAS,GAAG,KAAnB;AACD,KAFD;AAGD,GANQ,EAMN,CAACb,cAAD,CANM,CAAT;AASA,sBACE;AAAA,eACGL,KAAK,CAACJ,OAAN,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADpB,EAEGI,KAAK,CAACF,KAAN,iBAAe;AAAA,sBAAKE,KAAK,CAACF,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA,YAFlB,EAGGqB,OAAO,CAACC,GAAR,CAAYpB,KAAK,CAACT,KAAlB,CAHH,EAIGS,KAAK,CAACH,MAAN,IACCG,KAAK,CAACT,KAAN,CAAY8B,GAAZ,CAAiB9B,KAAD,IAAW;AACzB,0BAAO,QAAC,KAAD;AAAsB,QAAA,KAAK,EAAEA;AAA7B,SAAYA,KAAK,CAACC,EAAlB;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAWD,CAxED;;GAAMY,S;;KAAAA,S;AA0EN,eAAeA,SAAf","sourcesContent":["import { useEffect, useCallback, useReducer } from \"react\";\r\nimport Meals from \"../MealItem/Meals\";\r\nimport { DUMMY_MEALS } from \"../../../dummyMeals\";\r\n\r\nconst intialReducerObj = {\r\n  meals: {\r\n    id: \"\",\r\n    name: \"Sushi\",\r\n    description: \"Best quality food\",\r\n    price: 22.99,\r\n  },\r\n\r\n  loading: false,\r\n  loaded: false,\r\n  error: false,\r\n};\r\n\r\nconst mealsReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOADING\":\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case \"SET-MOVIE\":\r\n      return {\r\n        meals: {\r\n          id: action.payload.id,\r\n          name: action.payload.name,\r\n          description: action.payload.description,\r\n          price: action.payload.price,\r\n        },\r\n      };\r\n\r\n    case \"LOADED\": {\r\n      return {\r\n        ...state,\r\n        loaded: true,\r\n      };\r\n    }\r\n    case \"ERROR\":\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n\r\n    default:\r\n      return intialReducerObj;\r\n  }\r\n};\r\nconst MealsList = () => {\r\n  const getIntialMeals = useCallback(async () => {\r\n    try {\r\n      dispatch({\r\n        type: \"LOADING\",\r\n        payload: true,\r\n      });\r\n\r\n      const req = await fetch(\r\n        \"https://food-app-a635f-default-rtdb.firebaseio.com/meals.json\"\r\n      );\r\n\r\n      if (!req.ok) {\r\n        throw new Error(\"Something went wrong\");\r\n      }\r\n\r\n      const res = await req.json();\r\n\r\n      let loadedMeals = [];\r\n\r\n      for (const key in res) {\r\n        loadedMeals.push({\r\n          id: key,\r\n          name: res[key].name,\r\n          price: res[key].price,\r\n          description: res[key].description,\r\n        });\r\n\r\n        dispatch({\r\n          type: \"LOADED\",\r\n          payload: true,\r\n        });\r\n\r\n        dispatch({\r\n          type: \"setMovie\",\r\n          payload: loadedMeals,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      dispatch({\r\n        type: \"ERROR\",\r\n        payload: error.message,\r\n      });\r\n    }\r\n    dispatch({\r\n      type: \"LOADING\",\r\n      payload: false,\r\n    });\r\n  }, []);\r\n\r\n  const [state, dispatch] = useReducer(mealsReducer, intialReducerObj);\r\n\r\n  useEffect(() => {\r\n    const mounted = true \r\n    getIntialMeals();\r\n    return () => {\r\n      const  unMounted = false \r\n    }\r\n  }, [getIntialMeals]);\r\n  \r\n\r\n  return (\r\n    <div>\r\n      {state.loading && <p>Loading...</p>}\r\n      {state.error && <p> {state.error} </p>}\r\n      {console.log(state.meals)}\r\n      {state.loaded &&\r\n        state.meals.map((meals) => {\r\n          return <Meals key={meals.id} props={meals} />;\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MealsList;\r\n"]},"metadata":{},"sourceType":"module"}