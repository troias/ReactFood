{"ast":null,"code":"var _jsxFileName = \"/home/troias/udemy/project-2/01-starting-project/src/components/Meals/MealList/MealsList.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useCallback, useReducer } from \"react\";\nimport Meals from \"../MealItem/Meals\";\nimport { DUMMY_MEALS } from \"../../../dummyMeals\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst intialReducerObj = [];\n\nconst mealsReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOADING\":\n      return { ...state,\n        ...state.meals,\n        loading: action.payload\n      };\n\n    case \"MEALS\":\n      return {\n        meals: {\n          id: action.payload.id,\n          name: action.payload.name,\n          description: action.payload.description,\n          price: action.payload.price\n        }\n      };\n\n    case \"ERROR\":\n      return { ...state,\n        ...state.meals,\n        error: action.payload\n      };\n\n    default:\n      return intialReducerObj;\n  }\n};\n\nconst MealsList = () => {\n  _s();\n\n  const [state, dispatch] = useReducer(mealsReducer, intialReducerObj);\n  useEffect(() => {\n    const getIntialMeals = async () => {\n      try {\n        dispatch({\n          type: \"LOADING\",\n          payload: true\n        });\n        const req = await fetch(\"https://food-app-a635f-default-rtdb.firebaseio.com/meals.json\");\n\n        if (!req.ok) {\n          throw new Error(\"Something went wrong\");\n        }\n\n        const res = await req.json();\n        let loadedMeals = [];\n\n        for (const key in res) {\n          loadedMeals.push({\n            id: key,\n            name: res[key].name,\n            price: res[key].price,\n            description: res[key].description\n          });\n          dispatch({\n            type: \"SET-MEALS\",\n            payload: loadedMeals\n          });\n        }\n      } catch (error) {\n        dispatch({\n          type: \"ERROR\",\n          payload: error.message\n        });\n      }\n\n      dispatch({\n        type: \"LOADING\",\n        payload: false\n      });\n    };\n\n    getIntialMeals();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [state.loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }, this), state.error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\" \", state.error.message, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 23\n    }, this), console.log(state.meals), state.meals.map(meals => {\n      return /*#__PURE__*/_jsxDEV(Meals, {\n        props: meals\n      }, meals.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 16\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MealsList, \"ER0ZlCqzMenjnhgobRjqh7Oxxjg=\");\n\n_c = MealsList;\nexport default MealsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MealsList\");","map":{"version":3,"sources":["/home/troias/udemy/project-2/01-starting-project/src/components/Meals/MealList/MealsList.js"],"names":["useEffect","useCallback","useReducer","Meals","DUMMY_MEALS","intialReducerObj","mealsReducer","state","action","type","meals","loading","payload","id","name","description","price","error","MealsList","dispatch","getIntialMeals","req","fetch","ok","Error","res","json","loadedMeals","key","push","message","console","log","map"],"mappings":"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","sourcesContent":["import { useEffect, useCallback, useReducer } from \"react\";\r\nimport Meals from \"../MealItem/Meals\";\r\nimport { DUMMY_MEALS } from \"../../../dummyMeals\";\r\n\r\nconst intialReducerObj = [];\r\n\r\nconst mealsReducer = (state, action) => {\r\n\r\n  switch (action.type) {\r\n    case \"LOADING\":\r\n      return {\r\n        ...state,\r\n        ...state.meals,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case \"MEALS\":\r\n      return {\r\n        meals: {\r\n          id: action.payload.id,\r\n          name: action.payload.name,\r\n          description: action.payload.description,\r\n          price: action.payload.price,\r\n        },\r\n      };\r\n\r\n\r\n    case \"ERROR\":\r\n      return {\r\n        ...state,\r\n        ...state.meals,\r\n        error: action.payload,\r\n      };\r\n\r\n    default:\r\n      return intialReducerObj;\r\n  }\r\n};\r\nconst MealsList = () => {\r\n\r\n\r\n\r\n  const [state, dispatch] = useReducer(mealsReducer, intialReducerObj);\r\n\r\n  useEffect(() => {\r\n\r\n    const getIntialMeals = async () => {\r\n\r\n      try {\r\n        dispatch({\r\n          type: \"LOADING\",\r\n          payload: true,\r\n        });\r\n\r\n        const req = await fetch(\r\n          \"https://food-app-a635f-default-rtdb.firebaseio.com/meals.json\"\r\n        );\r\n\r\n        if (!req.ok) {\r\n          throw new Error(\"Something went wrong\");\r\n        }\r\n\r\n        const res = await req.json();\r\n\r\n        let loadedMeals = [];\r\n\r\n        for (const key in res) {\r\n          loadedMeals.push({\r\n            id: key,\r\n            name: res[key].name,\r\n            price: res[key].price,\r\n            description: res[key].description,\r\n          });\r\n\r\n\r\n\r\n          dispatch({\r\n            type: \"SET-MEALS\",\r\n            payload: loadedMeals,\r\n          });\r\n\r\n\r\n\r\n        }\r\n      } catch (error) {\r\n        dispatch({\r\n          type: \"ERROR\",\r\n          payload: error.message,\r\n        });\r\n\r\n\r\n      }\r\n      dispatch({\r\n        type: \"LOADING\",\r\n        payload: false,\r\n      });\r\n\r\n    }\r\n\r\n    getIntialMeals()\r\n\r\n\r\n\r\n  }, []);\r\n\r\n \r\n\r\n  return (\r\n    <div>\r\n      {state.loading && <p>Loading...</p>}\r\n      {state.error && <p> {state.error.message} </p>}\r\n      {console.log(state.meals)}\r\n      {state.meals.map((meals) => {\r\n        return <Meals key={meals.id} props={meals} />;\r\n      })}\r\n     \r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MealsList;\r\n"]},"metadata":{},"sourceType":"module"}