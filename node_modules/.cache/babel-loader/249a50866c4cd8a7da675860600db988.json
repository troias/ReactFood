{"ast":null,"code":"var _jsxFileName = \"/home/troias/udemy/project-2/01-starting-project/src/components/Meals/MealList/MealsList.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useCallback, useReducer } from \"react\";\nimport Meals from \"../MealItem/Meals\";\nimport { DUMMY_MEALS } from \"../../../dummyMeals\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst intialReducerObj = {\n  id: \"\",\n  name: \"Sushi\",\n  description: \"Best quality food\",\n  price: 22.99,\n  loading: false,\n  error: false\n};\n\nconst mealsReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOADING\":\n      return {\n        loading: action.payload\n      };\n\n    case \"SET-MOVIE\":\n      return {\n        id: action.payload.id,\n        name: action.payload.name,\n        description: action.payload.description,\n        price: action.payload.price\n      };\n\n    case \"ERROR\":\n      return {\n        error: action.payload\n      };\n\n    default:\n      return intialReducerObj;\n  }\n};\n\nconst MealsList = () => {\n  _s();\n\n  const [state, dispatch] = useReducer(mealsReducer, intialReducerObj);\n  const getIntialMeals = useCallback(async () => {\n    try {\n      const req = await fetch(\"https://food-app-a635f-default-rtdb.firebaseio.com/meals.json\");\n\n      if (!req.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n\n      const res = await req.json();\n      let loadedMeals = [];\n\n      for (const key in res) {\n        loadedMeals.push({\n          id: key,\n          name: res[key].name,\n          price: res[key].price,\n          description: res[key].description\n        });\n        dispatch({\n          type: 'setMovie',\n          payload: loadedMeals\n        });\n      }\n\n      console.log(loadedMeals);\n    } catch (error) {}\n  }, []);\n  useEffect(() => {\n    getIntialMeals();\n  }, [getIntialMeals]);\n  console.log(state);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: DUMMY_MEALS.map(meals => {\n      return /*#__PURE__*/_jsxDEV(Meals, {\n        props: meals\n      }, meals.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MealsList, \"gd1uLI/LAQ9HFYHE5Txebn2ADTc=\");\n\n_c = MealsList;\nexport default MealsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MealsList\");","map":{"version":3,"sources":["/home/troias/udemy/project-2/01-starting-project/src/components/Meals/MealList/MealsList.js"],"names":["useEffect","useCallback","useReducer","Meals","DUMMY_MEALS","intialReducerObj","id","name","description","price","loading","error","mealsReducer","state","action","type","payload","MealsList","dispatch","getIntialMeals","req","fetch","ok","Error","res","json","loadedMeals","key","push","console","log","map","meals"],"mappings":"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","sourcesContent":["import { useEffect, useCallback, useReducer } from \"react\";\r\nimport Meals from \"../MealItem/Meals\";\r\nimport { DUMMY_MEALS } from \"../../../dummyMeals\";\r\n\r\nconst intialReducerObj = {\r\n\r\n  id: \"\",\r\n  name: \"Sushi\",\r\n  description: \"Best quality food\",\r\n  price: 22.99,\r\n  loading: false,\r\n  error: false,\r\n}\r\n\r\nconst mealsReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOADING\":\r\n      return {\r\n        loading: action.payload\r\n      }\r\n\r\n    case \"SET-MOVIE\":\r\n\r\n      return {\r\n        id: action.payload.id,\r\n        name: action.payload.name,\r\n        description: action.payload.description,\r\n        price: action.payload.price,\r\n\r\n      }\r\n    case \"ERROR\":\r\n      return {\r\n       error: action.payload, \r\n      }\r\n\r\n\r\n    default:\r\n      return intialReducerObj\r\n  }\r\n}\r\nconst MealsList = () => {\r\n\r\n  const [state, dispatch] = useReducer(mealsReducer, intialReducerObj)\r\n\r\n  const getIntialMeals = useCallback(async () => {\r\n    try {\r\n\r\n      const req = await fetch(\"https://food-app-a635f-default-rtdb.firebaseio.com/meals.json\")\r\n\r\n      if (!req.ok) {\r\n        throw new Error(\"Something went wrong\")\r\n      }\r\n\r\n      const res = await req.json()\r\n      let loadedMeals = []\r\n\r\n      for (const key in res) {\r\n        loadedMeals.push({\r\n          id: key,\r\n          name: res[key].name,\r\n          price: res[key].price,\r\n          description: res[key].description,\r\n        })\r\n\r\n        dispatch({\r\n          type: 'setMovie',\r\n          payload: loadedMeals\r\n        })\r\n      }\r\n\r\n      console.log(loadedMeals)\r\n\r\n    } catch (error) {\r\n\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    getIntialMeals()\r\n  }, [getIntialMeals])\r\n  console.log(state)\r\n\r\n  return (\r\n    <div>\r\n      {DUMMY_MEALS.map((meals) => {\r\n        return (\r\n          <Meals key={meals.id} props={meals} />\r\n        )\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MealsList;\r\n"]},"metadata":{},"sourceType":"module"}